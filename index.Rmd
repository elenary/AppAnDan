--- 
title: "Прикладной анализ данных"
author: "Елена Рыбина"
date: "`r Sys.Date()`"
site: bookdown::bookdown_site
documentclass: book
bibliography:
- book.bib
- packages.bib
description: |
  Занятие по прикладному анализу данных.
link-citations: yes
github-repo: elenary/AppAnDan
---
```{r, eval=TRUE,echo=FALSE}
library(tidyverse)
library(viridis)
library(knitr)
```
# Чек-лист работы с данными

Рассмотрим, как должен выглядеть чек-лист работы с данными для проверки себя, если бы эти экспериментальные данные мы собирали бы сами?

1. Сформулированы теоретические гипотезы.
2. Сформулированы экспериментальные гипотезы.
3. Есть понимание, как будут выглядеть / выглядят собранные данные.
4. Есть понимание, что данных достаточно для проверки поставленной гипотезы.
5. Исходя из гипотезы и того, как собраны и какие это данные, выбран статистический метод проверки экспериментальной гипотезы.
6. Исходя из статистического критерия, есть понимание о статистической гипотезе *(хорошо, если есть -- это уже про H0 и H1)*
7. Выбрана среда для анализа данных конкретная функция под выбранный статистический критерий (или несколько функций) *(если нужно - установлен пакет для выбранных функций)*.
8. Данные предобработаны и приведены в вид, к которому можно применить выбранный статистический критерий и выполнить выбранную функцию.
9. Предобработанные, но еще не проанализрованные данные визуализированы для лучшего их понимания *(этот пункт может пригодиться уже на этапе 3)*.
10. Проведен расчет выбранного статистического критерия с помощью выбранной функции.
11. Вид полученных результатов понятен для интерпретации, и резульатты согласуются с представлением о том, как они должны выглядеть.
12. Результаты проинтепретированы и сделан вывод относительно статистической и экспериментальной гипотез.
13. Результаты визуализированы, так, чтобы их было легче правильно воспринять.

Теперь пройдемся подробнее по некоторым из этих пунктов.

В качестве примера возьмем датасет с kaggle <https://www.kaggle.com/datasets/uciml/student-alcohol-consumption>.
Это -- данные из двух португальских школ (скорее колледжей) с подробной социо-демографической информации о студентах, включая ту, как они учатся по математике и португальскому языку и как часто пьют алкоголь. Этот датасет я взяла, так как он содержит переменные разного типа данных в разных шкалах (и шкала отношений, например, возраст, и порядковая шкала, например, рейтинггования образования мамы или папы или поддержка в семье).

```{r, eval=TRUE}
studens_mat <- read_csv("student-mat.csv")
studens_mat %>% 
  rename_with(., ~ paste0(., "_mat"), .cols = c(absences, paid, G1, G2, G3)) -> studens_mat #переименовываю колонки для упрощения понимания, какие относятся к математикие
knitr::kable(studens_mat[1:10,]) #визуализирую табличку для этой книжки
```

```{r, eval=TRUE}
studens_por <- read_csv("student-por.csv")
studens_por %>% 
  rename_with(., ~ paste0(., "_por"), .cols = c(absences, paid, G1, G2, G3)) -> studens_por
knitr::kable(studens_por[1:10,]) #визуализирую табличку для этой книжки
```
## Сформулированы теоретические гипотезы 

*<Здесь на парах мы придумывали гипотезы>*

Возьмем первую придуманную гипотезу: в датасете есть студенты возрастов от 15 до 22 двух лет. Возможно, `те, кто младше, на вопросы об употреблении алкоголя будут выбирать варианты ответов, ассоциированные с как можно более редким употреблением`, так как являются несовершеннолетними и боятся признаться.

Эта гипотеза хороша тем, что она имеет понятное теоретическое обоснование, она проверяема на наших данных, и данные подходят для того, чтобы ее проверить

Вторая гипотеза: `те, кто оценивает отношения с родителями как менее поддерживающие, чаще употребляют алкоголь`. Эта гипотеза так же понятна, имеет теоретическое обосноование, проверяема в исследовании, и наши данные подходят для ее проверки.


**bookdown** 
*must*
`index.Rmd`


## Сформулированы эмпирические гипотезы

Объединенные таблички




```{r, eval=TRUE}

```


## Есть понимание, как будут выглядеть / выглядят собранные данные

## Исходя из гипотезы и того, как собраны и какие данные, выбран статистический метод проверки экспериментальной гипотезы
## Исходя из статистического метода, есть понимание о статистической гипотезе *(хорошо, если есть)*
## Выбрана среда для анализа данных и пакет для этого метода и конкретная функция
## Данные приведены в вид, к которому можно применить выбранный статистический метод

```{r, eval=TRUE}

studens_mat %>% 
  full_join(studens_por, by = c("school","sex","age","address","famsize","Pstatus","Medu","Fedu",
                             "Mjob","Fjob","reason", "guardian", "traveltime","studytime", "failures", "schoolsup", "famsup",
                             "activities", "nursery", "higher", "internet", "romantic", "famrel", "freetime", "goout", 
                             "Dalc", "Walc", "health")) -> students
students %>% 
  mutate("student" = paste0("id", row_number()), .before = "school") -> students #добавляю колонку с айдишником и перезаписываю результат в датасет
students %>% 
  drop_na() -> students #пропускаю строки с NA и перезаписываю результат в датасет
knitr::kable(students[1:10,]) 
```
## Визуализация самих данных для лучшего их понимания
## Проведен расчет выбранного стат метода
## Вид полученных результатов понятен для интерпретации, и резульатты согласуются с представлением о том, как они должны выглядеть
## Результаты проинтепретированы и стедлан вывод относительно изначальной гипотезы
## Визуализированы результаты, так, чтобы их было легче правильно проинтерпретировать

<!--chapter:end:index.Rmd-->
